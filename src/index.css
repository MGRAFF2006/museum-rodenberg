@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import Dyslexie font */
@import url('https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;600;700&display=swap');

/* Accessibility font sizes */
:root {
  --font-size-small: 0.8rem;
  --font-size-medium: 1rem;
  --font-size-large: 1.2rem;
  --font-size-extra-large: 1.4rem;
  
  /* Mobile font size adjustments */
  --mobile-font-size-small: 0.75rem;
  --mobile-font-size-medium: 0.9rem;
  --mobile-font-size-large: 1.1rem;
  --mobile-font-size-extra-large: 1.3rem;
}

/* Font size variations */
[data-font-size="small"] {
  font-size: var(--font-size-small);
}

[data-font-size="medium"] {
  font-size: var(--font-size-medium);
}

[data-font-size="large"] {
  font-size: var(--font-size-large);
}

[data-font-size="large"] h1 { font-size: 2.2rem; }
[data-font-size="large"] h2 { font-size: 1.8rem; }
[data-font-size="large"] h3 { font-size: 1.4rem; }
[data-font-size="large"] .text-lg { font-size: 1.3rem; }
[data-font-size="large"] .text-base { font-size: 1.2rem; }
[data-font-size="large"] .text-sm { font-size: 1.1rem; }
[data-font-size="large"] .text-xs { font-size: 1rem; }

[data-font-size="extra-large"] {
  font-size: var(--font-size-extra-large);
}

[data-font-size="extra-large"] h1 { font-size: 2.5rem; }
[data-font-size="extra-large"] h2 { font-size: 2rem; }
[data-font-size="extra-large"] h3 { font-size: 1.6rem; }
[data-font-size="extra-large"] .text-lg { font-size: 1.5rem; }
[data-font-size="extra-large"] .text-base { font-size: 1.4rem; }
[data-font-size="extra-large"] .text-sm { font-size: 1.3rem; }
[data-font-size="extra-large"] .text-xs { font-size: 1.2rem; }

/* Mobile font size overrides */
@media (max-width: 768px) {
  [data-font-size="small"] {
    font-size: var(--mobile-font-size-small);
  }
  
  [data-font-size="medium"] {
    font-size: var(--mobile-font-size-medium);
  }
  
  [data-font-size="large"] {
    font-size: var(--mobile-font-size-large);
  }
  
  [data-font-size="large"] h1 { font-size: 1.8rem; }
  [data-font-size="large"] h2 { font-size: 1.5rem; }
  [data-font-size="large"] h3 { font-size: 1.3rem; }
  [data-font-size="large"] .text-lg { font-size: 1.2rem; }
  [data-font-size="large"] .text-base { font-size: 1.1rem; }
  [data-font-size="large"] .text-sm { font-size: 1rem; }
  [data-font-size="large"] .text-xs { font-size: 0.9rem; }
  
  [data-font-size="extra-large"] {
    font-size: var(--mobile-font-size-extra-large);
  }
  
  [data-font-size="extra-large"] h1 { font-size: 2rem; }
  [data-font-size="extra-large"] h2 { font-size: 1.7rem; }
  [data-font-size="extra-large"] h3 { font-size: 1.4rem; }
  [data-font-size="extra-large"] .text-lg { font-size: 1.4rem; }
  [data-font-size="extra-large"] .text-base { font-size: 1.3rem; }
  [data-font-size="extra-large"] .text-sm { font-size: 1.2rem; }
  [data-font-size="extra-large"] .text-xs { font-size: 1.1rem; }
}

/* Dyslexie font - better dyslexia-friendly font */
[data-font-family="dyslexie"] {
  font-family: 'Lexend', sans-serif !important;
  letter-spacing: 0.05em;
  line-height: 1.6;
}

[data-font-family="dyslexie"] * {
  font-family: 'Lexend', sans-serif !important;
  letter-spacing: 0.05em;
  line-height: 1.6;
}

.font-dyslexie {
  font-family: 'Lexend', sans-serif !important;
  letter-spacing: 0.05em;
  line-height: 1.6;
}

/* High contrast mode */
[data-contrast-mode="high"] {
  --tw-bg-opacity: 1;
  background-color: rgb(0 0 0 / var(--tw-bg-opacity));
  color: rgb(255 255 255);
}

[data-contrast-mode="high"] .bg-white {
  --tw-bg-opacity: 1;
  background-color: rgb(0 0 0 / var(--tw-bg-opacity));
  color: rgb(255 255 255);
  border: 2px solid rgb(255 255 255);
}

[data-contrast-mode="high"] .bg-gray-50 {
  --tw-bg-opacity: 1;
  background-color: rgb(31 31 31 / var(--tw-bg-opacity));
}

[data-contrast-mode="high"] .bg-gray-100 {
  --tw-bg-opacity: 1;
  background-color: rgb(64 64 64 / var(--tw-bg-opacity));
}

[data-contrast-mode="high"] .text-gray-600,
[data-contrast-mode="high"] .text-gray-700,
[data-contrast-mode="high"] .text-gray-800,
[data-contrast-mode="high"] .text-gray-900 {
  --tw-text-opacity: 1;
  color: rgb(255 255 255 / var(--tw-text-opacity));
}

[data-contrast-mode="high"] .text-blue-800,
[data-contrast-mode="high"] .text-blue-700 {
  --tw-text-opacity: 1;
  color: rgb(96 165 250 / var(--tw-text-opacity));
}

[data-contrast-mode="high"] .bg-blue-800 {
  --tw-bg-opacity: 1;
  background-color: rgb(96 165 250 / var(--tw-bg-opacity));
  color: rgb(0 0 0);
}

[data-contrast-mode="high"] .bg-blue-100 {
  --tw-bg-opacity: 1;
  background-color: rgb(30 58 138 / var(--tw-bg-opacity));
  color: rgb(255 255 255);
}

[data-contrast-mode="high"] .border-gray-200,
[data-contrast-mode="high"] .border-gray-300 {
  --tw-border-opacity: 1;
  border-color: rgb(255 255 255 / var(--tw-border-opacity));
}

[data-contrast-mode="high"] img {
  filter: contrast(1.2) brightness(1.1);
}

[data-contrast-mode="high"] .shadow-lg,
[data-contrast-mode="high"] .shadow-xl {
  box-shadow: 0 0 0 2px rgb(255 255 255);
}

/* Custom scrollbar for webkit browsers */
@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: rgb(156 163 175) transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: rgb(156 163 175);
    border-radius: 3px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: rgb(107 114 128);
  }
}

/* Smooth focus transitions */
@layer base {
  * {
    @apply focus:outline-none;
  }
  
  button:focus-visible,
  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    @apply ring-2 ring-blue-500 ring-opacity-50;
  }
}